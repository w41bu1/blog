[{"content":"Introduction WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. {: .prompt-info } Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); ","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"Introduction WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. {: .prompt-info } Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); ","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"Introduction WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. {: .prompt-info } Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); ","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"Introduction WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. {: .prompt-info } Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); ","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"Introduction WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. {: .prompt-info } Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); ","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"Introduction WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. {: .prompt-info } Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); ","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"Introduction WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. {: .prompt-info } Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); ","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"Introduction WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. {: .prompt-info } Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); ","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"Introduction WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. {: .prompt-info } Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); ","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"Introduction WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. {: .prompt-info } Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); Increase Uploadable Plugin Size Báº¡n cÃ³ thá»ƒ bá»• sung vÃ o pháº§n blog nhÆ° sau:\nIncrease Uploadable Plugin Size By default, WordPress relies on PHP configuration (upload_max_filesize, post_max_size, and sometimes max_execution_time) to determine the maximum file size that can be uploaded. On many servers, this limit is set as low as 2MB â€“ 8MB, which is not enough for modern plugins.\nWhy Increase the Limit? Large plugins: Some plugins such as WooCommerce extensions, page builders, backup tools, or security suites can easily reach 20MB â€“ 100MB.\nAvoid errors: If the plugin .zip file exceeds the limit, youâ€™ll see errors like:\nâ€œThe uploaded file exceeds the upload_max_filesize directive in php.iniâ€ Or the upload process fails silently. Ease of use: Increasing the limit allows administrators to upload plugins directly from the WordPress Dashboard without needing FTP/SSH access.\nDevelopment and testing: Developers testing their own plugins (with bundled assets like JS, CSS, images, or libraries) may generate larger .zip files. A higher limit makes local testing smoother.\nHow to Increase Plugin Upload Size There are several methods depending on your hosting environment:\nEdit php.ini (if you control the server)\nupload_max_filesize = 64M post_max_size = 64M max_execution_time = 300 Edit .htaccess (for Apache servers)\nphp_value upload_max_filesize 64M php_value post_max_size 64M php_value max_execution_time 300 php_value max_input_time 300 Update wp-config.php Add before the line /* That's all, stop editing! Happy publishing. */:\n@ini_set( \u0026#39;upload_max_filesize\u0026#39; , \u0026#39;64M\u0026#39; ); @ini_set( \u0026#39;post_max_size\u0026#39;, \u0026#39;64M\u0026#39;); @ini_set( \u0026#39;max_execution_time\u0026#39;, \u0026#39;300\u0026#39; ); Check with your hosting provider Some shared hosting environments donâ€™t allow direct changes to PHP settings. In this case, youâ€™ll need to request support to increase the upload limit.\nğŸ‘‰ Itâ€™s recommended to set a reasonable value (e.g., 64MB or 128MB). Avoid setting it too high (hundreds of MBs), as it may open the door to abuse (e.g., users uploading excessively large files that overload the server).\nBáº¡n cÃ³ muá»‘n mÃ¬nh viáº¿t láº¡i cáº£ má»¥c \u0026ldquo;Extend\u0026rdquo; (Required Version, Auto Update, vÃ  Increase Uploadable Plugin Size) thÃ nh má»™t Ä‘oáº¡n mÆ°á»£t mÃ , Ä‘Ãºng phong cÃ¡ch blog tiáº¿ng Anh, thay vÃ¬ dá»‹ch tá»«ng pháº§n rá»i ráº¡c khÃ´ng?\n","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"Introduction WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. {: .prompt-info } Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); Increase Uploadable Plugin Size Báº¡n cÃ³ thá»ƒ bá»• sung vÃ o pháº§n blog nhÆ° sau:\nIncrease Uploadable Plugin Size By default, WordPress relies on PHP configuration (upload_max_filesize, post_max_size, and sometimes max_execution_time) to determine the maximum file size that can be uploaded. On many servers, this limit is set as low as 2MB â€“ 8MB, which is not enough for modern plugins.\nWhy Increase the Limit? Large plugins: Some plugins such as WooCommerce extensions, page builders, backup tools, or security suites can easily reach 20MB â€“ 100MB.\nAvoid errors: If the plugin .zip file exceeds the limit, youâ€™ll see errors like:\nâ€œThe uploaded file exceeds the upload_max_filesize directive in php.iniâ€ Or the upload process fails silently. Ease of use: Increasing the limit allows administrators to upload plugins directly from the WordPress Dashboard without needing FTP/SSH access.\nDevelopment and testing: Developers testing their own plugins (with bundled assets like JS, CSS, images, or libraries) may generate larger .zip files. A higher limit makes local testing smoother.\nHow to Increase Plugin Upload Size There are several methods depending on your hosting environment:\nEdit php.ini (if you control the server)\nupload_max_filesize = 64M post_max_size = 64M max_execution_time = 300 Edit .htaccess (for Apache servers)\nphp_value upload_max_filesize 64M php_value post_max_size 64M php_value max_execution_time 300 php_value max_input_time 300 Update wp-config.php Add before the line /* That's all, stop editing! Happy publishing. */:\n@ini_set( \u0026#39;upload_max_filesize\u0026#39; , \u0026#39;64M\u0026#39; ); @ini_set( \u0026#39;post_max_size\u0026#39;, \u0026#39;64M\u0026#39;); @ini_set( \u0026#39;max_execution_time\u0026#39;, \u0026#39;300\u0026#39; ); Check with your hosting provider Some shared hosting environments donâ€™t allow direct changes to PHP settings. In this case, youâ€™ll need to request support to increase the upload limit.\nğŸ‘‰ Itâ€™s recommended to set a reasonable value (e.g., 64MB or 128MB). Avoid setting it too high (hundreds of MBs), as it may open the door to abuse (e.g., users uploading excessively large files that overload the server).\n","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"Introduction WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. {: .prompt-info } Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); Increase Uploadable Plugin Size Báº¡n cÃ³ thá»ƒ bá»• sung vÃ o pháº§n blog nhÆ° sau:\nIncrease Uploadable Plugin Size By default, WordPress relies on PHP configuration (upload_max_filesize, post_max_size, and sometimes max_execution_time) to determine the maximum file size that can be uploaded. On many servers, this limit is set as low as 2MB â€“ 8MB, which is not enough for modern plugins.\nWhy Increase the Limit? Large plugins: Some plugins such as WooCommerce extensions, page builders, backup tools, or security suites can easily reach 20MB â€“ 100MB.\nAvoid errors: If the plugin .zip file exceeds the limit, youâ€™ll see errors like:\nâ€œThe uploaded file exceeds the upload_max_filesize directive in php.iniâ€ Or the upload process fails silently. Ease of use: Increasing the limit allows administrators to upload plugins directly from the WordPress Dashboard without needing FTP/SSH access.\nDevelopment and testing: Developers testing their own plugins (with bundled assets like JS, CSS, images, or libraries) may generate larger .zip files. A higher limit makes local testing smoother.\nHow to Increase Plugin Upload Size There are several methods depending on your hosting environment:\nEdit php.ini (if you control the server)\nupload_max_filesize = 64M post_max_size = 64M max_execution_time = 300 Edit .htaccess (for Apache servers)\nphp_value upload_max_filesize 64M php_value post_max_size 64M php_value max_execution_time 300 php_value max_input_time 300 Update wp-config.php Add before the line /* That's all, stop editing! Happy publishing. */:\n@ini_set( \u0026#39;upload_max_filesize\u0026#39; , \u0026#39;64M\u0026#39; ); @ini_set( \u0026#39;post_max_size\u0026#39;, \u0026#39;64M\u0026#39;); @ini_set( \u0026#39;max_execution_time\u0026#39;, \u0026#39;300\u0026#39; ); Check with your hosting provider Some shared hosting environments donâ€™t allow direct changes to PHP settings. In this case, youâ€™ll need to request support to increase the upload limit.\nğŸ‘‰ Itâ€™s recommended to set a reasonable value (e.g., 64MB or 128MB). Avoid setting it too high (hundreds of MBs), as it may open the door to abuse (e.g., users uploading excessively large files that overload the server).\n","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"Introduction WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. {: .prompt-info } Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); Increase Uploadable Plugin Size Báº¡n cÃ³ thá»ƒ bá»• sung vÃ o pháº§n blog nhÆ° sau:\nIncrease Uploadable Plugin Size Ok, mÃ¬nh sáº½ viáº¿t láº¡i toÃ n bá»™ pháº§n Extend thÃ nh cáº£ hai ngÃ´n ngá»¯: tiáº¿ng Viá»‡t vÃ  tiáº¿ng Anh Ä‘á»ƒ báº¡n cÃ³ thá»ƒ Ä‘Æ°a vÃ o blog.\nBáº£n tiáº¿ng Viá»‡t Má»Ÿ Rá»™ng (Extend) PhiÃªn báº£n yÃªu cáº§u (Required Version) Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m vá»›i má»™t phiÃªn báº£n PHP phÃ¹ há»£p. Náº¿u dÃ¹ng PHP quÃ¡ cÅ© hoáº·c quÃ¡ má»›i so vá»›i phiÃªn báº£n WordPress, báº¡n cÃ³ thá»ƒ gáº·p lá»—i trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t hoáº·c váº­n hÃ nh. VÃ¬ váº­y, trÆ°á»›c khi setup, hÃ£y kiá»ƒm tra báº£ng tÆ°Æ¡ng thÃ­ch PHP vÃ  WordPress Ä‘á»ƒ trÃ¡nh ráº¯c rá»‘i.\nCáº­p nháº­t tá»± Ä‘á»™ng (WordPress Auto Update) Tá»« WordPress 3.7 (2013), há»‡ thá»‘ng Ä‘Ã£ há»— trá»£ cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng ná»n (automatic background updates) cho:\nCÃ¡c báº£n vÃ¡ báº£o máº­t (security release). CÃ¡c báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng cáº­p nháº­t phiÃªn báº£n lá»›n (major version), trá»« khi báº¡n báº­t thá»§ cÃ´ng. WordPress sáº½ káº¿t ná»‘i tá»›i api.wordpress.org Ä‘á»ƒ kiá»ƒm tra báº£n vÃ¡ má»›i vÃ  tá»± Ä‘á»™ng nÃ¢ng cáº¥p. QuÃ¡ trÃ¬nh nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn Ä‘Ã´i khi báº¡n sáº½ tháº¥y mÃ£ nguá»“n thay Ä‘á»•i khÃ¡c so vá»›i báº£n táº£i tá»« wordpress.org.\nCÆ¡ cháº¿ cáº­p nháº­t nÃ y Ä‘Æ°á»£c kÃ­ch hoáº¡t khi báº¡n truy cáº­p /wp-admin/install.php. Náº¿u muá»‘n vÃ´ hiá»‡u hÃ³a, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); TÄƒng dung lÆ°á»£ng plugin cÃ³ thá»ƒ upload (Increase Uploadable Plugin Size) Máº·c Ä‘á»‹nh, WordPress phá»¥ thuá»™c vÃ o cáº¥u hÃ¬nh PHP (upload_max_filesize, post_max_size, vÃ  Ä‘Ã´i khi cáº£ max_execution_time) Ä‘á»ƒ xÃ¡c Ä‘á»‹nh dung lÆ°á»£ng file tá»‘i Ä‘a cÃ³ thá»ƒ upload. TrÃªn nhiá»u hosting, giá»›i háº¡n nÃ y chá»‰ khoáº£ng 2MB â€“ 8MB, khÃ´ng Ä‘á»§ cho cÃ¡c plugin hiá»‡n Ä‘áº¡i.\nVÃ¬ sao cáº§n tÄƒng giá»›i háº¡n? Plugin dung lÆ°á»£ng lá»›n: CÃ¡c plugin nhÆ° WooCommerce extension, page builder, backup, hoáº·c security suite cÃ³ thá»ƒ náº·ng 20MB â€“ 100MB.\nTrÃ¡nh lá»—i upload: Náº¿u file .zip lá»›n hÆ¡n giá»›i háº¡n, báº¡n sáº½ gáº·p lá»—i:\nâ€œThe uploaded file exceeds the upload_max_filesize directive in php.iniâ€ Hoáº·c upload tháº¥t báº¡i. Thuáº­n tiá»‡n cho quáº£n trá»‹ viÃªn: CÃ³ thá»ƒ cÃ i trá»±c tiáº¿p qua Dashboard mÃ  khÃ´ng cáº§n FTP/SSH.\nHá»— trá»£ phÃ¡t triá»ƒn plugin: Plugin tá»± viáº¿t kÃ¨m nhiá»u thÆ° viá»‡n/asset cÃ³ thá»ƒ khÃ¡ náº·ng, viá»‡c tÄƒng giá»›i háº¡n giÃºp test dá»… dÃ ng hÆ¡n.\nCÃ¡ch tÄƒng giá»›i háº¡n upload plugin Sá»­a php.ini (náº¿u cÃ³ quyá»n server):\nupload_max_filesize = 64M post_max_size = 64M max_execution_time = 300 Sá»­a file .htaccess (náº¿u dÃ¹ng Apache):\nphp_value upload_max_filesize 64M php_value post_max_size 64M php_value max_execution_time 300 php_value max_input_time 300 ThÃªm vÃ o wp-config.php:\n@ini_set( \u0026#39;upload_max_filesize\u0026#39; , \u0026#39;64M\u0026#39; ); @ini_set( \u0026#39;post_max_size\u0026#39;, \u0026#39;64M\u0026#39;); @ini_set( \u0026#39;max_execution_time\u0026#39;, \u0026#39;300\u0026#39; ); LiÃªn há»‡ nhÃ  cung cáº¥p hosting: Náº¿u báº¡n dÃ¹ng shared hosting, Ä‘Ã´i khi khÃ´ng thá»ƒ chá»‰nh trá»±c tiáº¿p, cáº§n nhá» support tÄƒng giá»›i háº¡n.\nğŸ‘‰ Lá»i khuyÃªn: Chá»‰ nÃªn Ä‘áº·t giá»›i háº¡n vá»«a Ä‘á»§ (64MB hoáº·c 128MB). TrÃ¡nh Ä‘áº·t quÃ¡ lá»›n Ä‘á»ƒ háº¡n cháº¿ nguy cÆ¡ bá»‹ upload file náº·ng gÃ¢y quÃ¡ táº£i server.\nEnglish Version Extend Required Version Each WordPress release comes with a recommended PHP version. Using a PHP version that is too old or too new compared to the WordPress release may cause errors during setup or runtime. Always check the PHPâ€“WordPress compatibility chart before installation.\nWordPress Auto Update Since WordPress 3.7 (2013), the platform supports automatic background updates for:\nSecurity releases. Maintenance releases. Not for major versions, unless explicitly enabled. WordPress connects to api.wordpress.org to check for new patches and updates automatically. This process happens shortly after setup, so you may notice code differences compared to the package you downloaded from wordpress.org.\nThe update process is triggered when accessing /wp-admin/install.php. To disable auto-updates, add this line to wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); Increase Uploadable Plugin Size By default, WordPress depends on PHP configuration (upload_max_filesize, post_max_size, and sometimes max_execution_time) to determine the maximum upload size. On many hosting servers, the default limit is only 2MB â€“ 8MB, which is insufficient for modern plugins.\nWhy increase the limit? Large plugins: WooCommerce extensions, page builders, backup, or security plugins can be 20MB â€“ 100MB.\nAvoid upload errors: Exceeding the limit causes errors like:\nâ€œThe uploaded file exceeds the upload_max_filesize directive in php.iniâ€ Or silent upload failures. Convenience for admins: Install plugins directly from the Dashboard without needing FTP/SSH.\nPlugin development: Custom plugins with bundled assets (JS, CSS, libraries) may generate large .zip files. A higher limit makes testing easier.\nHow to increase plugin upload size Edit php.ini (server-level):\nupload_max_filesize = 64M post_max_size = 64M max_execution_time = 300 Edit .htaccess (Apache servers):\nphp_value upload_max_filesize 64M php_value post_max_size 64M php_value max_execution_time 300 php_value max_input_time 300 Update wp-config.php:\n@ini_set( \u0026#39;upload_max_filesize\u0026#39; , \u0026#39;64M\u0026#39; ); @ini_set( \u0026#39;post_max_size\u0026#39;, \u0026#39;64M\u0026#39;); @ini_set( \u0026#39;max_execution_time\u0026#39;, \u0026#39;300\u0026#39; ); Contact hosting provider: On shared hosting, PHP limits may not be editable directly. Request support to increase the limit.\nğŸ‘‰ Tip: Set a reasonable value (64MBâ€“128MB). Avoid excessively high limits to reduce risks like server overload from heavy file uploads.\nBáº¡n cÃ³ muá»‘n mÃ¬nh gá»™p song ngá»¯ (Viá»‡tâ€“Anh) vÃ o má»™t file blog duy nháº¥t (nhÆ° dáº¡ng â€œsong songâ€ Ä‘á»ƒ ngÆ°á»i Ä‘á»c chá»n ngÃ´n ngá»¯), hay tÃ¡ch riÃªng thÃ nh 2 báº£n?\n","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"Introduction WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. {: .prompt-info } Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); Increase Uploadable Plugin Size Báº¡n cÃ³ thá»ƒ bá»• sung vÃ o pháº§n blog nhÆ° sau:\nIncrease Uploadable Plugin Size Ok, mÃ¬nh sáº½ viáº¿t láº¡i toÃ n bá»™ pháº§n Extend thÃ nh cáº£ hai ngÃ´n ngá»¯: tiáº¿ng Viá»‡t vÃ  tiáº¿ng Anh Ä‘á»ƒ báº¡n cÃ³ thá»ƒ Ä‘Æ°a vÃ o blog.\nBáº£n tiáº¿ng Viá»‡t Má»Ÿ Rá»™ng (Extend) PhiÃªn báº£n yÃªu cáº§u (Required Version) Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m vá»›i má»™t phiÃªn báº£n PHP phÃ¹ há»£p. Náº¿u dÃ¹ng PHP quÃ¡ cÅ© hoáº·c quÃ¡ má»›i so vá»›i phiÃªn báº£n WordPress, báº¡n cÃ³ thá»ƒ gáº·p lá»—i trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t hoáº·c váº­n hÃ nh. VÃ¬ váº­y, trÆ°á»›c khi setup, hÃ£y kiá»ƒm tra báº£ng tÆ°Æ¡ng thÃ­ch PHP vÃ  WordPress Ä‘á»ƒ trÃ¡nh ráº¯c rá»‘i.\nCáº­p nháº­t tá»± Ä‘á»™ng (WordPress Auto Update) Tá»« WordPress 3.7 (2013), há»‡ thá»‘ng Ä‘Ã£ há»— trá»£ cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng ná»n (automatic background updates) cho:\nCÃ¡c báº£n vÃ¡ báº£o máº­t (security release). CÃ¡c báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng cáº­p nháº­t phiÃªn báº£n lá»›n (major version), trá»« khi báº¡n báº­t thá»§ cÃ´ng. WordPress sáº½ káº¿t ná»‘i tá»›i api.wordpress.org Ä‘á»ƒ kiá»ƒm tra báº£n vÃ¡ má»›i vÃ  tá»± Ä‘á»™ng nÃ¢ng cáº¥p. QuÃ¡ trÃ¬nh nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn Ä‘Ã´i khi báº¡n sáº½ tháº¥y mÃ£ nguá»“n thay Ä‘á»•i khÃ¡c so vá»›i báº£n táº£i tá»« wordpress.org.\nCÆ¡ cháº¿ cáº­p nháº­t nÃ y Ä‘Æ°á»£c kÃ­ch hoáº¡t khi báº¡n truy cáº­p /wp-admin/install.php. Náº¿u muá»‘n vÃ´ hiá»‡u hÃ³a, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); TÄƒng dung lÆ°á»£ng plugin cÃ³ thá»ƒ upload (Increase Uploadable Plugin Size) Máº·c Ä‘á»‹nh, WordPress phá»¥ thuá»™c vÃ o cáº¥u hÃ¬nh PHP (upload_max_filesize, post_max_size, vÃ  Ä‘Ã´i khi cáº£ max_execution_time) Ä‘á»ƒ xÃ¡c Ä‘á»‹nh dung lÆ°á»£ng file tá»‘i Ä‘a cÃ³ thá»ƒ upload. TrÃªn nhiá»u hosting, giá»›i háº¡n nÃ y chá»‰ khoáº£ng 2MB â€“ 8MB, khÃ´ng Ä‘á»§ cho cÃ¡c plugin hiá»‡n Ä‘áº¡i.\nVÃ¬ sao cáº§n tÄƒng giá»›i háº¡n? Plugin dung lÆ°á»£ng lá»›n: CÃ¡c plugin nhÆ° WooCommerce extension, page builder, backup, hoáº·c security suite cÃ³ thá»ƒ náº·ng 20MB â€“ 100MB.\nTrÃ¡nh lá»—i upload: Náº¿u file .zip lá»›n hÆ¡n giá»›i háº¡n, báº¡n sáº½ gáº·p lá»—i:\nâ€œThe uploaded file exceeds the upload_max_filesize directive in php.iniâ€ Hoáº·c upload tháº¥t báº¡i. Thuáº­n tiá»‡n cho quáº£n trá»‹ viÃªn: CÃ³ thá»ƒ cÃ i trá»±c tiáº¿p qua Dashboard mÃ  khÃ´ng cáº§n FTP/SSH.\nHá»— trá»£ phÃ¡t triá»ƒn plugin: Plugin tá»± viáº¿t kÃ¨m nhiá»u thÆ° viá»‡n/asset cÃ³ thá»ƒ khÃ¡ náº·ng, viá»‡c tÄƒng giá»›i háº¡n giÃºp test dá»… dÃ ng hÆ¡n.\nCÃ¡ch tÄƒng giá»›i háº¡n upload plugin Sá»­a php.ini (náº¿u cÃ³ quyá»n server):\nupload_max_filesize = 64M post_max_size = 64M max_execution_time = 300 Sá»­a file .htaccess (náº¿u dÃ¹ng Apache):\nphp_value upload_max_filesize 64M php_value post_max_size 64M php_value max_execution_time 300 php_value max_input_time 300 ThÃªm vÃ o wp-config.php:\n@ini_set( \u0026#39;upload_max_filesize\u0026#39; , \u0026#39;64M\u0026#39; ); @ini_set( \u0026#39;post_max_size\u0026#39;, \u0026#39;64M\u0026#39;); @ini_set( \u0026#39;max_execution_time\u0026#39;, \u0026#39;300\u0026#39; ); LiÃªn há»‡ nhÃ  cung cáº¥p hosting: Náº¿u báº¡n dÃ¹ng shared hosting, Ä‘Ã´i khi khÃ´ng thá»ƒ chá»‰nh trá»±c tiáº¿p, cáº§n nhá» support tÄƒng giá»›i háº¡n.\nğŸ‘‰ Lá»i khuyÃªn: Chá»‰ nÃªn Ä‘áº·t giá»›i háº¡n vá»«a Ä‘á»§ (64MB hoáº·c 128MB). TrÃ¡nh Ä‘áº·t quÃ¡ lá»›n Ä‘á»ƒ háº¡n cháº¿ nguy cÆ¡ bá»‹ upload file náº·ng gÃ¢y quÃ¡ táº£i server.\nEnglish Version Extend Required Version Each WordPress release comes with a recommended PHP version. Using a PHP version that is too old or too new compared to the WordPress release may cause errors during setup or runtime. Always check the PHPâ€“WordPress compatibility chart before installation.\nWordPress Auto Update Since WordPress 3.7 (2013), the platform supports automatic background updates for:\nSecurity releases. Maintenance releases. Not for major versions, unless explicitly enabled. WordPress connects to api.wordpress.org to check for new patches and updates automatically. This process happens shortly after setup, so you may notice code differences compared to the package you downloaded from wordpress.org.\nThe update process is triggered when accessing /wp-admin/install.php. To disable auto-updates, add this line to wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); Increase Uploadable Plugin Size By default, WordPress depends on PHP configuration (upload_max_filesize, post_max_size, and sometimes max_execution_time) to determine the maximum upload size. On many hosting servers, the default limit is only 2MB â€“ 8MB, which is insufficient for modern plugins.\nWhy increase the limit? Large plugins: WooCommerce extensions, page builders, backup, or security plugins can be 20MB â€“ 100MB.\nAvoid upload errors: Exceeding the limit causes errors like:\nâ€œThe uploaded file exceeds the upload_max_filesize directive in php.iniâ€ Or silent upload failures. Convenience for admins: Install plugins directly from the Dashboard without needing FTP/SSH.\nPlugin development: Custom plugins with bundled assets (JS, CSS, libraries) may generate large .zip files. A higher limit makes testing easier.\nHow to increase plugin upload size Edit php.ini (server-level):\nupload_max_filesize = 64M post_max_size = 64M max_execution_time = 300 Edit .htaccess (Apache servers):\nphp_value upload_max_filesize 64M php_value post_max_size 64M php_value max_execution_time 300 php_value max_input_time 300 Update wp-config.php:\n@ini_set( \u0026#39;upload_max_filesize\u0026#39; , \u0026#39;64M\u0026#39; ); @ini_set( \u0026#39;post_max_size\u0026#39;, \u0026#39;64M\u0026#39;); @ini_set( \u0026#39;max_execution_time\u0026#39;, \u0026#39;300\u0026#39; ); Contact hosting provider: On shared hosting, PHP limits may not be editable directly. Request support to increase the limit.\nğŸ‘‰ Tip: Set a reasonable value (64MBâ€“128MB). Avoid excessively high limits to reduce risks like server overload from heavy file uploads.\n","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"Introduction WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. {: .prompt-info } Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); Increase Uploadable Plugin Size Máº·c Ä‘á»‹nh, WordPress phá»¥ thuá»™c vÃ o cáº¥u hÃ¬nh PHP (upload_max_filesize, post_max_size, vÃ  Ä‘Ã´i khi cáº£ max_execution_time) Ä‘á»ƒ xÃ¡c Ä‘á»‹nh dung lÆ°á»£ng file tá»‘i Ä‘a cÃ³ thá»ƒ upload. TrÃªn nhiá»u hosting, giá»›i háº¡n nÃ y chá»‰ khoáº£ng 2MB â€“ 8MB, khÃ´ng Ä‘á»§ cho cÃ¡c plugin hiá»‡n Ä‘áº¡i.\nWhy Increase the Limit? Plugin dung lÆ°á»£ng lá»›n: CÃ¡c plugin nhÆ° WooCommerce extension, page builder, backup, hoáº·c security suite cÃ³ thá»ƒ náº·ng 20MB â€“ 100MB.\nTrÃ¡nh lá»—i upload: Náº¿u file .zip lá»›n hÆ¡n giá»›i háº¡n, báº¡n sáº½ gáº·p lá»—i:\nâ€œThe uploaded file exceeds the upload_max_filesize directive in php.iniâ€ Hoáº·c upload tháº¥t báº¡i. Thuáº­n tiá»‡n cho quáº£n trá»‹ viÃªn: CÃ³ thá»ƒ cÃ i trá»±c tiáº¿p qua Dashboard mÃ  khÃ´ng cáº§n FTP/SSH.\nHá»— trá»£ phÃ¡t triá»ƒn plugin: Plugin tá»± viáº¿t kÃ¨m nhiá»u thÆ° viá»‡n/asset cÃ³ thá»ƒ khÃ¡ náº·ng, viá»‡c tÄƒng giá»›i háº¡n giÃºp test dá»… dÃ ng hÆ¡n.\nCÃ¡ch tÄƒng giá»›i háº¡n upload plugin Sá»­a php.ini (náº¿u cÃ³ quyá»n server):\nupload_max_filesize = 64M post_max_size = 64M max_execution_time = 300 Sá»­a file .htaccess (náº¿u dÃ¹ng Apache):\nphp_value upload_max_filesize 64M php_value post_max_size 64M php_value max_execution_time 300 php_value max_input_time 300 ThÃªm vÃ o wp-config.php:\n@ini_set( \u0026#39;upload_max_filesize\u0026#39; , \u0026#39;64M\u0026#39; ); @ini_set( \u0026#39;post_max_size\u0026#39;, \u0026#39;64M\u0026#39;); @ini_set( \u0026#39;max_execution_time\u0026#39;, \u0026#39;300\u0026#39; ); LiÃªn há»‡ nhÃ  cung cáº¥p hosting: Náº¿u báº¡n dÃ¹ng shared hosting, Ä‘Ã´i khi khÃ´ng thá»ƒ chá»‰nh trá»±c tiáº¿p, cáº§n nhá» support tÄƒng giá»›i háº¡n.\nğŸ‘‰ Lá»i khuyÃªn: Chá»‰ nÃªn Ä‘áº·t giá»›i háº¡n vá»«a Ä‘á»§ (64MB hoáº·c 128MB). TrÃ¡nh Ä‘áº·t quÃ¡ lá»›n Ä‘á»ƒ háº¡n cháº¿ nguy cÆ¡ bá»‹ upload file náº·ng gÃ¢y quÃ¡ táº£i server.\nEnglish Version Extend Required Version Each WordPress release comes with a recommended PHP version. Using a PHP version that is too old or too new compared to the WordPress release may cause errors during setup or runtime. Always check the PHPâ€“WordPress compatibility chart before installation.\nWordPress Auto Update Since WordPress 3.7 (2013), the platform supports automatic background updates for:\nSecurity releases. Maintenance releases. Not for major versions, unless explicitly enabled. WordPress connects to api.wordpress.org to check for new patches and updates automatically. This process happens shortly after setup, so you may notice code differences compared to the package you downloaded from wordpress.org.\nThe update process is triggered when accessing /wp-admin/install.php. To disable auto-updates, add this line to wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); Increase Uploadable Plugin Size By default, WordPress depends on PHP configuration (upload_max_filesize, post_max_size, and sometimes max_execution_time) to determine the maximum upload size. On many hosting servers, the default limit is only 2MB â€“ 8MB, which is insufficient for modern plugins.\nWhy increase the limit? Large plugins: WooCommerce extensions, page builders, backup, or security plugins can be 20MB â€“ 100MB.\nAvoid upload errors: Exceeding the limit causes errors like:\nâ€œThe uploaded file exceeds the upload_max_filesize directive in php.iniâ€ Or silent upload failures. Convenience for admins: Install plugins directly from the Dashboard without needing FTP/SSH.\nPlugin development: Custom plugins with bundled assets (JS, CSS, libraries) may generate large .zip files. A higher limit makes testing easier.\nHow to increase plugin upload size Edit php.ini (server-level):\nupload_max_filesize = 64M post_max_size = 64M max_execution_time = 300 Edit .htaccess (Apache servers):\nphp_value upload_max_filesize 64M php_value post_max_size 64M php_value max_execution_time 300 php_value max_input_time 300 Update wp-config.php:\n@ini_set( \u0026#39;upload_max_filesize\u0026#39; , \u0026#39;64M\u0026#39; ); @ini_set( \u0026#39;post_max_size\u0026#39;, \u0026#39;64M\u0026#39;); @ini_set( \u0026#39;max_execution_time\u0026#39;, \u0026#39;300\u0026#39; ); Contact hosting provider: On shared hosting, PHP limits may not be editable directly. Request support to increase the limit.\nğŸ‘‰ Tip: Set a reasonable value (64MBâ€“128MB). Avoid excessively high limits to reduce risks like server overload from heavy file uploads.\n","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"Introduction WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. {: .prompt-info } Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); Increase Uploadable Plugin Size Máº·c Ä‘á»‹nh, WordPress phá»¥ thuá»™c vÃ o cáº¥u hÃ¬nh PHP (upload_max_filesize, post_max_size, vÃ  Ä‘Ã´i khi cáº£ max_execution_time) Ä‘á»ƒ xÃ¡c Ä‘á»‹nh dung lÆ°á»£ng file tá»‘i Ä‘a cÃ³ thá»ƒ upload. TrÃªn nhiá»u hosting, giá»›i háº¡n nÃ y chá»‰ khoáº£ng 2MB â€“ 8MB, khÃ´ng Ä‘á»§ cho cÃ¡c plugin hiá»‡n Ä‘áº¡i.\nWhy Increase the Limit? Plugin dung lÆ°á»£ng lá»›n: CÃ¡c plugin nhÆ° WooCommerce extension, page builder, backup, hoáº·c security suite cÃ³ thá»ƒ náº·ng 20MB â€“ 100MB.\nTrÃ¡nh lá»—i upload: Náº¿u file .zip lá»›n hÆ¡n giá»›i háº¡n, báº¡n sáº½ gáº·p lá»—i:\nâ€œThe uploaded file exceeds the upload_max_filesize directive in php.iniâ€ Hoáº·c upload tháº¥t báº¡i. Thuáº­n tiá»‡n cho quáº£n trá»‹ viÃªn: CÃ³ thá»ƒ cÃ i trá»±c tiáº¿p qua Dashboard mÃ  khÃ´ng cáº§n FTP/SSH.\nHá»— trá»£ phÃ¡t triá»ƒn plugin: Plugin tá»± viáº¿t kÃ¨m nhiá»u thÆ° viá»‡n/asset cÃ³ thá»ƒ khÃ¡ náº·ng, viá»‡c tÄƒng giá»›i háº¡n giÃºp test dá»… dÃ ng hÆ¡n.\nHow to Increase Plugin Upload Size Sá»­a php.ini (náº¿u cÃ³ quyá»n server):\nupload_max_filesize = 64M post_max_size = 64M max_execution_time = 300 Sá»­a file .htaccess (náº¿u dÃ¹ng Apache):\nphp_value upload_max_filesize 64M php_value post_max_size 64M php_value max_execution_time 300 php_value max_input_time 300 ThÃªm vÃ o wp-config.php:\n@ini_set( \u0026#39;upload_max_filesize\u0026#39; , \u0026#39;64M\u0026#39; ); @ini_set( \u0026#39;post_max_size\u0026#39;, \u0026#39;64M\u0026#39;); @ini_set( \u0026#39;max_execution_time\u0026#39;, \u0026#39;300\u0026#39; ); LiÃªn há»‡ nhÃ  cung cáº¥p hosting: Náº¿u báº¡n dÃ¹ng shared hosting, Ä‘Ã´i khi khÃ´ng thá»ƒ chá»‰nh trá»±c tiáº¿p, cáº§n nhá» support tÄƒng giá»›i háº¡n.\nğŸ‘‰ Lá»i khuyÃªn: Chá»‰ nÃªn Ä‘áº·t giá»›i háº¡n vá»«a Ä‘á»§ (64MB hoáº·c 128MB). TrÃ¡nh Ä‘áº·t quÃ¡ lá»›n Ä‘á»ƒ háº¡n cháº¿ nguy cÆ¡ bá»‹ upload file náº·ng gÃ¢y quÃ¡ táº£i server.\nEnglish Version Extend Required Version Each WordPress release comes with a recommended PHP version. Using a PHP version that is too old or too new compared to the WordPress release may cause errors during setup or runtime. Always check the PHPâ€“WordPress compatibility chart before installation.\nWordPress Auto Update Since WordPress 3.7 (2013), the platform supports automatic background updates for:\nSecurity releases. Maintenance releases. Not for major versions, unless explicitly enabled. WordPress connects to api.wordpress.org to check for new patches and updates automatically. This process happens shortly after setup, so you may notice code differences compared to the package you downloaded from wordpress.org.\nThe update process is triggered when accessing /wp-admin/install.php. To disable auto-updates, add this line to wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); Increase Uploadable Plugin Size By default, WordPress depends on PHP configuration (upload_max_filesize, post_max_size, and sometimes max_execution_time) to determine the maximum upload size. On many hosting servers, the default limit is only 2MB â€“ 8MB, which is insufficient for modern plugins.\nWhy increase the limit? Large plugins: WooCommerce extensions, page builders, backup, or security plugins can be 20MB â€“ 100MB.\nAvoid upload errors: Exceeding the limit causes errors like:\nâ€œThe uploaded file exceeds the upload_max_filesize directive in php.iniâ€ Or silent upload failures. Convenience for admins: Install plugins directly from the Dashboard without needing FTP/SSH.\nPlugin development: Custom plugins with bundled assets (JS, CSS, libraries) may generate large .zip files. A higher limit makes testing easier.\nHow to increase plugin upload size Edit php.ini (server-level):\nupload_max_filesize = 64M post_max_size = 64M max_execution_time = 300 Edit .htaccess (Apache servers):\nphp_value upload_max_filesize 64M php_value post_max_size 64M php_value max_execution_time 300 php_value max_input_time 300 Update wp-config.php:\n@ini_set( \u0026#39;upload_max_filesize\u0026#39; , \u0026#39;64M\u0026#39; ); @ini_set( \u0026#39;post_max_size\u0026#39;, \u0026#39;64M\u0026#39;); @ini_set( \u0026#39;max_execution_time\u0026#39;, \u0026#39;300\u0026#39; ); Contact hosting provider: On shared hosting, PHP limits may not be editable directly. Request support to increase the limit.\nğŸ‘‰ Tip: Set a reasonable value (64MBâ€“128MB). Avoid excessively high limits to reduce risks like server overload from heavy file uploads.\n","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"Introduction WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. {: .prompt-info } Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); Increase Uploadable Plugin Size Máº·c Ä‘á»‹nh, WordPress phá»¥ thuá»™c vÃ o cáº¥u hÃ¬nh PHP (upload_max_filesize, post_max_size, vÃ  Ä‘Ã´i khi cáº£ max_execution_time) Ä‘á»ƒ xÃ¡c Ä‘á»‹nh dung lÆ°á»£ng file tá»‘i Ä‘a cÃ³ thá»ƒ upload. TrÃªn nhiá»u hosting, giá»›i háº¡n nÃ y chá»‰ khoáº£ng 2MB â€“ 8MB, khÃ´ng Ä‘á»§ cho cÃ¡c plugin hiá»‡n Ä‘áº¡i.\nWhy Increase the Limit? Plugin dung lÆ°á»£ng lá»›n: CÃ¡c plugin nhÆ° WooCommerce extension, page builder, backup, hoáº·c security suite cÃ³ thá»ƒ náº·ng 20MB â€“ 100MB.\nTrÃ¡nh lá»—i upload: Náº¿u file .zip lá»›n hÆ¡n giá»›i háº¡n, báº¡n sáº½ gáº·p lá»—i:\nâ€œThe uploaded file exceeds the upload_max_filesize directive in php.iniâ€ Hoáº·c upload tháº¥t báº¡i. Thuáº­n tiá»‡n cho quáº£n trá»‹ viÃªn: CÃ³ thá»ƒ cÃ i trá»±c tiáº¿p qua Dashboard mÃ  khÃ´ng cáº§n FTP/SSH.\nHá»— trá»£ phÃ¡t triá»ƒn plugin: Plugin tá»± viáº¿t kÃ¨m nhiá»u thÆ° viá»‡n/asset cÃ³ thá»ƒ khÃ¡ náº·ng, viá»‡c tÄƒng giá»›i háº¡n giÃºp test dá»… dÃ ng hÆ¡n.\nHow to Increase Plugin Upload Size Sá»­a php.ini (náº¿u cÃ³ quyá»n server):\nupload_max_filesize = 64M post_max_size = 64M max_execution_time = 300 Sá»­a file .htaccess (náº¿u dÃ¹ng Apache):\nphp_value upload_max_filesize 64M php_value post_max_size 64M php_value max_execution_time 300 php_value max_input_time 300 ThÃªm vÃ o wp-config.php:\n@ini_set( \u0026#39;upload_max_filesize\u0026#39; , \u0026#39;64M\u0026#39; ); @ini_set( \u0026#39;post_max_size\u0026#39;, \u0026#39;64M\u0026#39;); @ini_set( \u0026#39;max_execution_time\u0026#39;, \u0026#39;300\u0026#39; ); ğŸ‘‰ Lá»i khuyÃªn: Chá»‰ nÃªn Ä‘áº·t giá»›i háº¡n vá»«a Ä‘á»§ (64MB hoáº·c 128MB). TrÃ¡nh Ä‘áº·t quÃ¡ lá»›n Ä‘á»ƒ háº¡n cháº¿ nguy cÆ¡ bá»‹ upload file náº·ng gÃ¢y quÃ¡ táº£i server.\nEnglish Version Extend Required Version Each WordPress release comes with a recommended PHP version. Using a PHP version that is too old or too new compared to the WordPress release may cause errors during setup or runtime. Always check the PHPâ€“WordPress compatibility chart before installation.\nWordPress Auto Update Since WordPress 3.7 (2013), the platform supports automatic background updates for:\nSecurity releases. Maintenance releases. Not for major versions, unless explicitly enabled. WordPress connects to api.wordpress.org to check for new patches and updates automatically. This process happens shortly after setup, so you may notice code differences compared to the package you downloaded from wordpress.org.\nThe update process is triggered when accessing /wp-admin/install.php. To disable auto-updates, add this line to wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); Increase Uploadable Plugin Size By default, WordPress depends on PHP configuration (upload_max_filesize, post_max_size, and sometimes max_execution_time) to determine the maximum upload size. On many hosting servers, the default limit is only 2MB â€“ 8MB, which is insufficient for modern plugins.\nWhy increase the limit? Large plugins: WooCommerce extensions, page builders, backup, or security plugins can be 20MB â€“ 100MB.\nAvoid upload errors: Exceeding the limit causes errors like:\nâ€œThe uploaded file exceeds the upload_max_filesize directive in php.iniâ€ Or silent upload failures. Convenience for admins: Install plugins directly from the Dashboard without needing FTP/SSH.\nPlugin development: Custom plugins with bundled assets (JS, CSS, libraries) may generate large .zip files. A higher limit makes testing easier.\nHow to increase plugin upload size Edit php.ini (server-level):\nupload_max_filesize = 64M post_max_size = 64M max_execution_time = 300 Edit .htaccess (Apache servers):\nphp_value upload_max_filesize 64M php_value post_max_size 64M php_value max_execution_time 300 php_value max_input_time 300 Update wp-config.php:\n@ini_set( \u0026#39;upload_max_filesize\u0026#39; , \u0026#39;64M\u0026#39; ); @ini_set( \u0026#39;post_max_size\u0026#39;, \u0026#39;64M\u0026#39;); @ini_set( \u0026#39;max_execution_time\u0026#39;, \u0026#39;300\u0026#39; ); Contact hosting provider: On shared hosting, PHP limits may not be editable directly. Request support to increase the limit.\nğŸ‘‰ Tip: Set a reasonable value (64MBâ€“128MB). Avoid excessively high limits to reduce risks like server overload from heavy file uploads.\n","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"Introduction WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. {: .prompt-info } Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); Increase Uploadable Plugin Size Máº·c Ä‘á»‹nh, WordPress phá»¥ thuá»™c vÃ o cáº¥u hÃ¬nh PHP (upload_max_filesize, post_max_size, vÃ  Ä‘Ã´i khi cáº£ max_execution_time) Ä‘á»ƒ xÃ¡c Ä‘á»‹nh dung lÆ°á»£ng file tá»‘i Ä‘a cÃ³ thá»ƒ upload. TrÃªn nhiá»u hosting, giá»›i háº¡n nÃ y chá»‰ khoáº£ng 2MB â€“ 8MB, khÃ´ng Ä‘á»§ cho cÃ¡c plugin hiá»‡n Ä‘áº¡i.\nWhy Increase the Limit? Plugin dung lÆ°á»£ng lá»›n: CÃ¡c plugin nhÆ° WooCommerce extension, page builder, backup, hoáº·c security suite cÃ³ thá»ƒ náº·ng 20MB â€“ 100MB.\nTrÃ¡nh lá»—i upload: Náº¿u file .zip lá»›n hÆ¡n giá»›i háº¡n, báº¡n sáº½ gáº·p lá»—i:\nâ€œThe uploaded file exceeds the upload_max_filesize directive in php.iniâ€ Hoáº·c upload tháº¥t báº¡i. Thuáº­n tiá»‡n cho quáº£n trá»‹ viÃªn: CÃ³ thá»ƒ cÃ i trá»±c tiáº¿p qua Dashboard mÃ  khÃ´ng cáº§n FTP/SSH.\nHá»— trá»£ phÃ¡t triá»ƒn plugin: Plugin tá»± viáº¿t kÃ¨m nhiá»u thÆ° viá»‡n/asset cÃ³ thá»ƒ khÃ¡ náº·ng, viá»‡c tÄƒng giá»›i háº¡n giÃºp test dá»… dÃ ng hÆ¡n.\nHow to Increase Plugin Upload Size Sá»­a php.ini (náº¿u cÃ³ quyá»n server):\nupload_max_filesize = 64M post_max_size = 64M max_execution_time = 300 Sá»­a file .htaccess (náº¿u dÃ¹ng Apache):\nphp_value upload_max_filesize 64M php_value post_max_size 64M php_value max_execution_time 300 php_value max_input_time 300 ThÃªm vÃ o wp-config.php:\n@ini_set( \u0026#39;upload_max_filesize\u0026#39; , \u0026#39;64M\u0026#39; ); @ini_set( \u0026#39;post_max_size\u0026#39;, \u0026#39;64M\u0026#39;); @ini_set( \u0026#39;max_execution_time\u0026#39;, \u0026#39;300\u0026#39; ); ğŸ‘‰ Lá»i khuyÃªn: Chá»‰ nÃªn Ä‘áº·t giá»›i háº¡n vá»«a Ä‘á»§ (64MB hoáº·c 128MB). TrÃ¡nh Ä‘áº·t quÃ¡ lá»›n Ä‘á»ƒ háº¡n cháº¿ nguy cÆ¡ bá»‹ upload file náº·ng gÃ¢y quÃ¡ táº£i server.\n","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"Introduction WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. {: .prompt-info } Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); Increase Uploadable Plugin Size Máº·c Ä‘á»‹nh, WordPress phá»¥ thuá»™c vÃ o cáº¥u hÃ¬nh PHP (upload_max_filesize, post_max_size, vÃ  Ä‘Ã´i khi cáº£ max_execution_time) Ä‘á»ƒ xÃ¡c Ä‘á»‹nh dung lÆ°á»£ng file tá»‘i Ä‘a cÃ³ thá»ƒ upload. TrÃªn nhiá»u hosting, giá»›i háº¡n nÃ y chá»‰ khoáº£ng 2MB â€“ 8MB, khÃ´ng Ä‘á»§ cho cÃ¡c plugin hiá»‡n Ä‘áº¡i.\nWhy Increase the Limit? Plugin dung lÆ°á»£ng lá»›n: CÃ¡c plugin nhÆ° WooCommerce extension, page builder, backup, hoáº·c security suite cÃ³ thá»ƒ náº·ng 20MB â€“ 100MB.\nTrÃ¡nh lá»—i upload: Náº¿u file .zip lá»›n hÆ¡n giá»›i háº¡n, báº¡n sáº½ gáº·p lá»—i:\nâ€œThe uploaded file exceeds the upload_max_filesize directive in php.iniâ€ Hoáº·c upload tháº¥t báº¡i. Thuáº­n tiá»‡n cho quáº£n trá»‹ viÃªn: CÃ³ thá»ƒ cÃ i trá»±c tiáº¿p qua Dashboard mÃ  khÃ´ng cáº§n FTP/SSH.\nHá»— trá»£ phÃ¡t triá»ƒn plugin: Plugin tá»± viáº¿t kÃ¨m nhiá»u thÆ° viá»‡n/asset cÃ³ thá»ƒ khÃ¡ náº·ng, viá»‡c tÄƒng giá»›i háº¡n giÃºp test dá»… dÃ ng hÆ¡n.\nHow to Increase Plugin Upload Size Sá»­a php.ini (náº¿u cÃ³ quyá»n server):\nupload_max_filesize = 64M post_max_size = 64M max_execution_time = 300 Sá»­a file .htaccess (náº¿u dÃ¹ng Apache):\nphp_value upload_max_filesize 64M php_value post_max_size 64M php_value max_execution_time 300 php_value max_input_time 300 ThÃªm vÃ o wp-config.php:\n@ini_set( \u0026#39;upload_max_filesize\u0026#39; , \u0026#39;64M\u0026#39; ); @ini_set( \u0026#39;post_max_size\u0026#39;, \u0026#39;64M\u0026#39;); @ini_set( \u0026#39;max_execution_time\u0026#39;, \u0026#39;300\u0026#39; ); ğŸ‘‰ Lá»i khuyÃªn: Chá»‰ nÃªn Ä‘áº·t giá»›i háº¡n vá»«a Ä‘á»§ (64MB hoáº·c 128MB). TrÃ¡nh Ä‘áº·t quÃ¡ lá»›n Ä‘á»ƒ háº¡n cháº¿ nguy cÆ¡ bá»‹ upload file náº·ng gÃ¢y quÃ¡ táº£i server.\n","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. {: .prompt-info } Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); Increase Uploadable Plugin Size Máº·c Ä‘á»‹nh, WordPress phá»¥ thuá»™c vÃ o cáº¥u hÃ¬nh PHP (upload_max_filesize, post_max_size, vÃ  Ä‘Ã´i khi cáº£ max_execution_time) Ä‘á»ƒ xÃ¡c Ä‘á»‹nh dung lÆ°á»£ng file tá»‘i Ä‘a cÃ³ thá»ƒ upload. TrÃªn nhiá»u hosting, giá»›i háº¡n nÃ y chá»‰ khoáº£ng 2MB â€“ 8MB, khÃ´ng Ä‘á»§ cho cÃ¡c plugin hiá»‡n Ä‘áº¡i.\nWhy Increase the Limit? Plugin dung lÆ°á»£ng lá»›n: CÃ¡c plugin nhÆ° WooCommerce extension, page builder, backup, hoáº·c security suite cÃ³ thá»ƒ náº·ng 20MB â€“ 100MB.\nTrÃ¡nh lá»—i upload: Náº¿u file .zip lá»›n hÆ¡n giá»›i háº¡n, báº¡n sáº½ gáº·p lá»—i:\nâ€œThe uploaded file exceeds the upload_max_filesize directive in php.iniâ€ Hoáº·c upload tháº¥t báº¡i. Thuáº­n tiá»‡n cho quáº£n trá»‹ viÃªn: CÃ³ thá»ƒ cÃ i trá»±c tiáº¿p qua Dashboard mÃ  khÃ´ng cáº§n FTP/SSH.\nHá»— trá»£ phÃ¡t triá»ƒn plugin: Plugin tá»± viáº¿t kÃ¨m nhiá»u thÆ° viá»‡n/asset cÃ³ thá»ƒ khÃ¡ náº·ng, viá»‡c tÄƒng giá»›i háº¡n giÃºp test dá»… dÃ ng hÆ¡n.\nHow to Increase Plugin Upload Size Sá»­a php.ini (náº¿u cÃ³ quyá»n server):\nupload_max_filesize = 64M post_max_size = 64M max_execution_time = 300 Sá»­a file .htaccess (náº¿u dÃ¹ng Apache):\nphp_value upload_max_filesize 64M php_value post_max_size 64M php_value max_execution_time 300 php_value max_input_time 300 ThÃªm vÃ o wp-config.php:\n@ini_set( \u0026#39;upload_max_filesize\u0026#39; , \u0026#39;64M\u0026#39; ); @ini_set( \u0026#39;post_max_size\u0026#39;, \u0026#39;64M\u0026#39;); @ini_set( \u0026#39;max_execution_time\u0026#39;, \u0026#39;300\u0026#39; ); ğŸ‘‰ Lá»i khuyÃªn: Chá»‰ nÃªn Ä‘áº·t giá»›i háº¡n vá»«a Ä‘á»§ (64MB hoáº·c 128MB). TrÃ¡nh Ä‘áº·t quÃ¡ lá»›n Ä‘á»ƒ háº¡n cháº¿ nguy cÆ¡ bá»‹ upload file náº·ng gÃ¢y quÃ¡ táº£i server.\n","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); Increase Uploadable Plugin Size Máº·c Ä‘á»‹nh, WordPress phá»¥ thuá»™c vÃ o cáº¥u hÃ¬nh PHP (upload_max_filesize, post_max_size, vÃ  Ä‘Ã´i khi cáº£ max_execution_time) Ä‘á»ƒ xÃ¡c Ä‘á»‹nh dung lÆ°á»£ng file tá»‘i Ä‘a cÃ³ thá»ƒ upload. TrÃªn nhiá»u hosting, giá»›i háº¡n nÃ y chá»‰ khoáº£ng 2MB â€“ 8MB, khÃ´ng Ä‘á»§ cho cÃ¡c plugin hiá»‡n Ä‘áº¡i.\nWhy Increase the Limit? Plugin dung lÆ°á»£ng lá»›n: CÃ¡c plugin nhÆ° WooCommerce extension, page builder, backup, hoáº·c security suite cÃ³ thá»ƒ náº·ng 20MB â€“ 100MB.\nTrÃ¡nh lá»—i upload: Náº¿u file .zip lá»›n hÆ¡n giá»›i háº¡n, báº¡n sáº½ gáº·p lá»—i:\nâ€œThe uploaded file exceeds the upload_max_filesize directive in php.iniâ€ Hoáº·c upload tháº¥t báº¡i. Thuáº­n tiá»‡n cho quáº£n trá»‹ viÃªn: CÃ³ thá»ƒ cÃ i trá»±c tiáº¿p qua Dashboard mÃ  khÃ´ng cáº§n FTP/SSH.\nHá»— trá»£ phÃ¡t triá»ƒn plugin: Plugin tá»± viáº¿t kÃ¨m nhiá»u thÆ° viá»‡n/asset cÃ³ thá»ƒ khÃ¡ náº·ng, viá»‡c tÄƒng giá»›i háº¡n giÃºp test dá»… dÃ ng hÆ¡n.\nHow to Increase Plugin Upload Size Sá»­a php.ini (náº¿u cÃ³ quyá»n server):\nupload_max_filesize = 64M post_max_size = 64M max_execution_time = 300 Sá»­a file .htaccess (náº¿u dÃ¹ng Apache):\nphp_value upload_max_filesize 64M php_value post_max_size 64M php_value max_execution_time 300 php_value max_input_time 300 ThÃªm vÃ o wp-config.php:\n@ini_set( \u0026#39;upload_max_filesize\u0026#39; , \u0026#39;64M\u0026#39; ); @ini_set( \u0026#39;post_max_size\u0026#39;, \u0026#39;64M\u0026#39;); @ini_set( \u0026#39;max_execution_time\u0026#39;, \u0026#39;300\u0026#39; ); ğŸ‘‰ Lá»i khuyÃªn: Chá»‰ nÃªn Ä‘áº·t giá»›i háº¡n vá»«a Ä‘á»§ (64MB hoáº·c 128MB). TrÃ¡nh Ä‘áº·t quÃ¡ lá»›n Ä‘á»ƒ háº¡n cháº¿ nguy cÆ¡ bá»‹ upload file náº·ng gÃ¢y quÃ¡ táº£i server.\n","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"},{"content":"WordPress lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\nRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦ Hiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress. CÃ³ 2 phiÃªn báº£n WordPress:\nWordPress.com Dá»‹ch vá»¥ hosting do Automattic cung cáº¥p Báº¡n chá»‰ cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n, khÃ´ng pháº£i cÃ i Ä‘áº·t Háº¡n cháº¿ tÃ¹y chá»‰nh, muá»‘n nÃ¢ng cao thÃ¬ pháº£i tráº£ phÃ­ WordPress.org MÃ£ nguá»“n má»Ÿ, báº¡n tá»± táº£i vá» vÃ  cÃ i Ä‘áº·t lÃªn hosting/server riÃªng TÃ¹y chá»‰nh toÃ n diá»‡n, cÃ³ thá»ƒ cÃ i plugin, theme, viáº¿t code, táº¡o website theo Ã½ mÃ¬nh Ecosystem Core: CMS chÃ­nh Plugin: Má»™t pháº§n má»m bá»• sung cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn trang web WordPress Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a nÃ³ vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng má»›i Themes: Má»™t pháº§n má»m bá»• sung Ä‘áº¡i diá»‡n cho sá»± xuáº¥t hiá»‡n trá»±c quan vÃ  bá»‘ cá»¥c cá»§a má»™t trang web WordPress Why WordPress Hacking? State of WordPress Security in 2024\nMost Popular Hiá»‡n táº¡i hÆ¡n 40% website trÃªn toÃ n tháº¿ giá»›i cháº¡y WordPress NghÄ©a lÃ  hacker chá»‰ cáº§n tÃ¬m ra má»™t lá»— há»•ng phá»• biáº¿n =\u0026gt; cÃ³ thá»ƒ khai thÃ¡c hÃ ng triá»‡u site cÃ¹ng lÃºc Giá»‘ng nhÆ° â€œcÃ¡ nhiá»u thÃ¬ chÃ i á»Ÿ Ä‘Ã³â€ Plugin and Theme WordPress Core Ä‘Ã£ Ä‘Æ°á»£c xem xÃ©t trong 1 thá»i gian dÃ i bá»Ÿi hÃ ng ngÃ n developers vÃ  researchers. Káº¿t quáº£ lÃ  ráº¥t khÃ³ Ä‘á»ƒ káº» táº¥n cÃ´ng cÃ³ thá»ƒ Ä‘á»™t nháº­p vÃ o Tuy nhiÃªn, cÃ³ hÃ ng chá»¥c ngÃ n plugin vÃ  theme tá»« nhiá»u nguá»“n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘á»“ng Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng Nhiá»u plugin code báº£o máº­t kÃ©m, khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t. Hacker chá»‰ cáº§n scan plugin/theme Ä‘á»ƒ tÃ¬m version lá»—i thá»i, rá»“i khai thÃ¡c Setup WordPress for Hacking CÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ setup WorkPress, tÃ¬m kiáº¿m báº±ng Google cÃ³ thá»ƒ cung cáº¥p nhiá»u bÃ i viáº¿t vá» nÃ³. á» Ä‘Ã¢y tÃ´i sáº½ setup trÃªn mÃ¡y áº£o Ubuntu (22.04):\nKhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c dá»‹ch vá»¥ cá»§a mÃ¡y tháº­t WordPress tÆ°Æ¡ng Ä‘á»‘i nháº¹ Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y áº£o Install and configure WordPress Install Dependencies CÃ i toÃ n bá»™ stack cáº§n thiáº¿t Ä‘á»ƒ cháº¡y WordPress (web server + database + PHP + cÃ¡c extension quan trá»ng).\nsudo apt install apache2 \\ ghostscript \\ libapache2-mod-php \\ mysql-server \\ php \\ php-bcmath \\ php-curl \\ php-imagick \\ php-intl \\ php-json \\ php-mbstring \\ php-mysql \\ php-xml \\ php-zip Install WordPress Táº£i vÃ  cÃ i mÃ£ nguá»“n WordPress vÃ o thÆ° má»¥c web.\n# Táº¡o folder Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n website sudo mkdir -p /srv/www # Äá»•i owner thÃ nh www-data, Ä‘Ã¢y lÃ  user máº·c Ä‘á»‹nh cá»§a Apache/Nginx Ä‘á»ƒ cháº¡y web server # Khi Apache/NGINX khá»Ÿi Ä‘á»™ng, nÃ³ khÃ´ng cháº¡y báº±ng root (nguy hiá»ƒm vÃ¬ cÃ³ toÃ n quyá»n há»‡ thá»‘ng), mÃ  sáº½ drop xuá»‘ng cháº¡y dÆ°á»›i quyá»n www-data. sudo chown www-data: /srv/www # Táº£i gÃ³i WordPress má»›i nháº¥t tá»« trang chÃ­nh thá»©c # Giáº£i nÃ©n vao thÆ°c má»¥c /srv/www Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ³ thá»ƒ táº£i phiÃªn báº£n cá»¥ thá»ƒ báº±ng:\ncurl https://wordpress.org/wordpress-6.6.2.tar.gz | sudo -u www-data tar zx -C /srv/www CÃ i tá»« wordpress.org lÃ  cÃ¡ch chuáº©n nháº¥t vÃ  Ã­t rá»§i ro:\nUbuntu cÃ³ sáºµn package wordpress trong repo. NhÆ°ng nÃ³ thÆ°á»ng cÅ© hÆ¡n nhiá»u so vá»›i báº£n chÃ­nh thá»©c trÃªn wordpress.org Cá»™ng Ä‘á»“ng WordPress chá»‰ há»— trá»£ khi báº¡n dÃ¹ng báº£n chÃ­nh thá»©c tá»« wordpress.org, vÃ¬ náº¿u báº¡n gáº·p lá»—i do package cá»§a Ubuntu thÃ¬ há» khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c. Configure Apache for WordPress Táº¡o file /etc/apache2/sites-available/wordpress.conf cáº¥u hÃ¬nh Apache cho WordPress:\n# Láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IP (*) táº¡i port 80 (HTTP). \u0026lt;VirtualHost *:80\u0026gt; # ThÆ° má»¥c gá»‘c cá»§a website (nÆ¡i chá»©a mÃ£ nguá»“n WordPress). DocumentRoot /srv/www/wordpress \u0026lt;Directory /srv/www/wordpress\u0026gt; Options FollowSymLinks # Cho phÃ©p file .htaccess ghi Ä‘Ã¨ má»™t sá»‘ thiáº¿t láº­p liÃªn quan Ä‘áº¿n báº£o máº­t vÃ  URL rewriting. AllowOverride Limit Options FileInfo # Khi truy cáº­p thÆ° má»¥c, Apache sáº½ tÃ¬m file index.php Ä‘á»ƒ hiá»ƒn thá»‹. DirectoryIndex index.php # Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p (cáº§n cho website public). Require all granted \u0026lt;/Directory\u0026gt; # RiÃªng thÆ° má»¥c wp-content (chá»©a plugin, theme, upload) cÅ©ng cho phÃ©p truy cáº­p. \u0026lt;Directory /srv/www/wordpress/wp-content\u0026gt; Options FollowSymLinks Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; KÃ­ch hoáº¡t site WordPress:\nsudo a2ensite wordpress a2ensite = enable site config (táº¡o symlink tá»« /etc/apache2/sites-available/wordpress.conf sang /etc/apache2/sites-enabled/) Sau Ä‘Ã³ site wordpress sáº½ Ä‘Æ°á»£c Apache load khi restart. KÃ­ch hoáº¡t module rewrite:\nsudo a2enmod rewrite WordPress cáº§n module mod_rewrite Ä‘á»ƒ há»— trá»£ Pretty Permalinks (vÃ­ dá»¥ /blog/hello-world/ thay vÃ¬ ?p=123) VÃ´ hiá»‡u hÃ³a site máº·c Ä‘á»‹nh (Option):\nsudo a2dissite 000-default Apache máº·c Ä‘á»‹nh cÃ³ site 000-default.conf (chá»‰ hiá»ƒn thá»‹ \u0026ldquo;It works!\u0026rdquo;) Náº¿u khÃ´ng disable, site máº·c Ä‘á»‹nh cÃ³ thá»ƒ chiáº¿m port 80 trÆ°á»›c WordPress ğŸ‘‰ Hoáº·c náº¿u khÃ´ng muá»‘n disable, cÃ³ thá»ƒ thÃªm ServerName vÃ o VirtualHost WordPress Ä‘á»ƒ Apache phÃ¢n biá»‡t domain.\n\u0026lt;VirtualHost *:80\u0026gt; ServerName mywordpress.local DocumentRoot /srv/www/wordpress ... \u0026lt;/VirtualHost\u0026gt; Muá»‘n cháº¡y Ä‘Æ°á»£c thÃ¬ pháº£i cáº¥u hÃ¬nh DNS hoáº·c sá»­a file hosts:\nLinux/Mac: /etc/hosts Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Reload Apache:\nsudo service apache2 reload Táº£i láº¡i cáº¥u hÃ¬nh má»›i mÃ  khÃ´ng cáº§n dá»«ng server Configure database WordPress cáº§n má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB) Ä‘á»ƒ lÆ°u:\nBÃ i viáº¿t, trang, menu NgÆ°á»i dÃ¹ng, máº­t kháº©u (hash) Cáº¥u hÃ¬nh site Plugins, themes settings Má»Ÿ MySQL vá»›i quyá»n root:\nsudo mysql -u root Cáº¥u hÃ¬nh MySQL:\n-- Táº¡o database wordpress mysql\u0026gt; CREATE DATABASE wordpress; Query OK, 1 row affected (0,00 sec) -- Táº¡o user riÃªng cho wordpress mysql\u0026gt; CREATE USER wordpress@localhost IDENTIFIED BY \u0026#39;\u0026lt;your-password\u0026gt;\u0026#39;; Query OK, 1 row affected (0,00 sec) -- Cáº¥p quyá»n cho user WordPress mysql\u0026gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; Query OK, 1 row affected (0,00 sec) -- LÃ m má»›i láº¡i quyá»n mysql\u0026gt; FLUSH PRIVILEGES; Query OK, 1 row affected (0,00 sec) -- ThoÃ¡t mysql\u0026gt; quit Bye Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:\nsudo service mysql start Configure WordPress to connect to the database Copy file cáº¥u hÃ¬nh máº«u:\nsudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php WordPress khi táº£i vá» cÃ³ sáºµn file wp-config-sample.php Báº¡n copy nÃ³ thÃ nh wp-config.php Ä‘á»ƒ lÃ m file cáº¥u hÃ¬nh chÃ­nh cho site Chá»‰nh sá»­a thÃ´ng tin database:\nsudo -u www-data sed -i \u0026#39;s/database_name_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/username_here/wordpress/\u0026#39; /srv/www/wordpress/wp-config.php sudo -u www-data sed -i \u0026#39;s/password_here/\u0026lt;your-password\u0026gt;/\u0026#39; /srv/www/wordpress/wp-config.php ÄÃ¢y lÃ  3 dÃ²ng thay tháº¿ text trong file wp-config.php: database_name_here =\u0026gt; wordpress (tÃªn DB Ä‘Ã£ táº¡o á»Ÿ bÆ°á»›c trÆ°á»›c) username_here =\u0026gt; wordpress (user MySQL Ä‘Ã£ táº¡o) password_here =\u0026gt; \u0026lt;your-password\u0026gt; (password Ä‘Ã£ set) Khi Apache cháº¡y WordPress, nÃ³ sáº½ Ä‘á»c file nÃ y Ä‘á»ƒ biáº¿t dÃ¹ng user nÃ o + DB nÃ o Ä‘á»ƒ káº¿t ná»‘i MySQL ThÃªm Secret Keys vÃ  Salts:\nsudo -u www-data nano /srv/www/wordpress/wp-config.php ğŸ‘‰ ÄÃ¢y lÃ  chuá»—i bÃ­ máº­t mÃ  WordPress dÃ¹ng Ä‘á»ƒ:\nMÃ£ hÃ³a session cookies Sinh ra token (nonce) chá»‘ng CSRF NgÄƒn cháº·n táº¥n cÃ´ng kiá»ƒu â€œknown secretâ€ (vÃ­ dá»¥ káº» táº¥n cÃ´ng Ä‘oÃ¡n Ä‘Æ°á»£c secret máº·c Ä‘á»‹nh Ä‘á»ƒ giáº£ máº¡o login) define( \u0026#39;AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_KEY\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;SECURE_AUTH_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;LOGGED_IN_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); define( \u0026#39;NONCE_SALT\u0026#39;, \u0026#39;put your unique phrase here\u0026#39; ); Thay Ä‘á»•i nÃ³ báº±ng cÃ¡c chuá»—i random sau: https://api.wordpress.org/secret-key/1.1/salt/\nConfigure WordPress Truy cáº­p http://localhost, Ä‘áº·t site title, username, password, email cho user admin\nSetup Debug on VSCode Äá»ƒ hiá»ƒu Ä‘Æ°á»£c luá»“ng cá»§a trang web cháº¡y vÃ  xá»­ lÃ­ á»Ÿ má»—i request, ta cáº§n pháº£i debug nÃ³.\nAdd PHP Debug extension on VS Code VÃ o Extensions (Ctrl+Shift+X) =\u0026gt; tÃ¬m PHP Debug (by Felix Becker) =\u0026gt; Install. Extension nÃ y káº¿t ná»‘i vá»›i Xdebug.\nInstall Xdebug on Ubuntu sudo apt install php-xdebug -y Kiá»ƒm tra cÃ i chÆ°a:\nphp -v Náº¿u cÃ³ dÃ²ng with Xdebug v3.x.x nghÄ©a lÃ  Ä‘Ã£ OK.\nConfigure Xdebug sudo nano /etc/php/\u0026lt;version\u0026gt;/apache2/php.ini ThÃªm vÃ o cuá»‘i file\nzend_extension=xdebug.so xdebug.mode=debug xdebug.start_with_request=yes xdebug.client_host=127.0.0.1 xdebug.client_port=9003 Port máº·c Ä‘á»‹nh má»›i cá»§a Xdebug v3 lÃ  9003.\nSau Ä‘Ã³ restart Apache:\nsudo systemctl restart apache2 Configure VSCode launch.json Má»Ÿ thÆ° má»¥c chá»©a trang web wordpress báº±ng VSCode\ncode /srv/www/wordpress Trong VS Code =\u0026gt; Run and Debug (Ctrl+Shift+D) =\u0026gt; táº¡o file launch.json vá»›i ná»™i dung:\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Listen for Xdebug\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;php\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;port\u0026#34;: 9003, \u0026#34;pathMappings\u0026#34;: { \u0026#34;/srv/www/wordpress\u0026#34;: \u0026#34;${workspaceFolder}\u0026#34; } } ] } pathMappings: Ã¡nh xáº¡ thÆ° má»¥c trong container/server (/srv/www/wordpress) vá» thÆ° má»¥c local cá»§a trong VS Code.\nNhÆ° váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh setup WordPress trÃªn local káº¿t há»£p Debug nÃ³ trÃªn VSCode.\nExtend Required Version Má»—i phiÃªn báº£n WordPress thÆ°á»ng Ä‘i kÃ¨m 1 phiÃªn báº£n PHP thÃ­ch há»£p. NÃªn kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch nÃ y Ä‘á»ƒ quÃ¡ trÃ¬nh setup khÃ´ng bá»‹ lá»—i.\nWordPress Auto Update Tá»« WordPress 3.7 trá»Ÿ Ä‘i (2013), WordPress cÃ³ cÆ¡ cháº¿ tá»± Ä‘á»™ng cáº­p nháº­t (automatic background updates) cho:\nBáº£n vÃ¡ báº£o máº­t (security release). Báº£n báº£o trÃ¬ (maintenance release). KhÃ´ng tá»± Ä‘á»™ng update major version (trá»« khi báº­t rÃµ rÃ ng). Há»‡ thá»‘ng kiá»ƒm tra vá»›i server api.wordpress.org Ä‘á»ƒ xem cÃ³ báº£n vÃ¡ nÃ o má»›i sáº½ tá»± Ä‘á»™ng nÃ¢ng cáº¥p background lÃªn. Viá»‡c nÃ y diá»…n ra ráº¥t nhanh sau khi setup, nÃªn báº¡n tháº¥y code Ä‘á»•i khÃ¡c so vá»›i source gá»‘c.\nQuÃ¡ trÃ¬nh setup diá»…n ra khi truy cáº­p /wp-admin/install.php\nÄá»ƒ vÃ´ hiá»‡u hÃ³a cÆ¡ cháº¿ cáº­p nháº­t tá»± Ä‘á»™ng nÃ y, thÃªm dÃ²ng sau vÃ o wp-config.php:\ndefine( \u0026#39;WP_AUTO_UPDATE_CORE\u0026#39;, false ); Increase Uploadable Plugin Size Máº·c Ä‘á»‹nh, WordPress phá»¥ thuá»™c vÃ o cáº¥u hÃ¬nh PHP (upload_max_filesize, post_max_size, vÃ  Ä‘Ã´i khi cáº£ max_execution_time) Ä‘á»ƒ xÃ¡c Ä‘á»‹nh dung lÆ°á»£ng file tá»‘i Ä‘a cÃ³ thá»ƒ upload. TrÃªn nhiá»u hosting, giá»›i háº¡n nÃ y chá»‰ khoáº£ng 2MB â€“ 8MB, khÃ´ng Ä‘á»§ cho cÃ¡c plugin hiá»‡n Ä‘áº¡i.\nWhy Increase the Limit? Plugin dung lÆ°á»£ng lá»›n: CÃ¡c plugin nhÆ° WooCommerce extension, page builder, backup, hoáº·c security suite cÃ³ thá»ƒ náº·ng 20MB â€“ 100MB.\nTrÃ¡nh lá»—i upload: Náº¿u file .zip lá»›n hÆ¡n giá»›i háº¡n, báº¡n sáº½ gáº·p lá»—i:\nâ€œThe uploaded file exceeds the upload_max_filesize directive in php.iniâ€ Hoáº·c upload tháº¥t báº¡i. Thuáº­n tiá»‡n cho quáº£n trá»‹ viÃªn: CÃ³ thá»ƒ cÃ i trá»±c tiáº¿p qua Dashboard mÃ  khÃ´ng cáº§n FTP/SSH.\nHá»— trá»£ phÃ¡t triá»ƒn plugin: Plugin tá»± viáº¿t kÃ¨m nhiá»u thÆ° viá»‡n/asset cÃ³ thá»ƒ khÃ¡ náº·ng, viá»‡c tÄƒng giá»›i háº¡n giÃºp test dá»… dÃ ng hÆ¡n.\nHow to Increase Plugin Upload Size Sá»­a php.ini (náº¿u cÃ³ quyá»n server):\nupload_max_filesize = 64M post_max_size = 64M max_execution_time = 300 Sá»­a file .htaccess (náº¿u dÃ¹ng Apache):\nphp_value upload_max_filesize 64M php_value post_max_size 64M php_value max_execution_time 300 php_value max_input_time 300 ThÃªm vÃ o wp-config.php:\n@ini_set( \u0026#39;upload_max_filesize\u0026#39; , \u0026#39;64M\u0026#39; ); @ini_set( \u0026#39;post_max_size\u0026#39;, \u0026#39;64M\u0026#39;); @ini_set( \u0026#39;max_execution_time\u0026#39;, \u0026#39;300\u0026#39; ); ğŸ‘‰ Lá»i khuyÃªn: Chá»‰ nÃªn Ä‘áº·t giá»›i háº¡n vá»«a Ä‘á»§ (64MB hoáº·c 128MB). TrÃ¡nh Ä‘áº·t quÃ¡ lá»›n Ä‘á»ƒ háº¡n cháº¿ nguy cÆ¡ bá»‹ upload file náº·ng gÃ¢y quÃ¡ táº£i server.\n","permalink":"//localhost:1313/vi/posts/2025-08-21-wordpress-local-and-debugging/","summary":"\u003cp\u003e\u003cstrong\u003eWordPress\u003c/strong\u003e lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ ná»™i dung (CMS) máº¡nh máº½ vÃ  phá»• biáº¿n nháº¥t cho phÃ©p báº¡n táº¡o, quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh cÃ¡c trang web vÃ  blog má»™t cÃ¡ch dá»… dÃ ng. NÃ³ lÃ  open-source CMS, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn PHP vÃ  sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c Maria DB.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRa Ä‘á»i nÄƒm 2003, ban Ä‘áº§u chá»‰ Ä‘á»ƒ viáº¿t blog, sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh ná»n táº£ng táº¡o website, cá»­a hÃ ng online, diá»…n Ä‘Ã n, landing pageâ€¦\u003c/li\u003e\n\u003cli\u003eHiá»‡n nay, hÆ¡n 40% website trÃªn tháº¿ giá»›i cháº¡y báº±ng WordPress.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCÃ³ 2 phiÃªn báº£n WordPress:\u003c/p\u003e","title":"WordPress Local and Debugging"}]